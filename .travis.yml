sudo: false
language: python
matrix:
  include:
    - python: "3.5"
      env: LTD_MASON_BUILD=true
install:
  - pip install -r requirements.txt
  - pip install "ltd-mason>=0.2,<0.3"
script:
  - sphinx-build -b html -a -n -d _build/doctree . _build/html
after_success:
  - ltd-mason-travis --html-dir _build/html
env:
  global:
    - LTD_MASON_BUILD=false  # disable builds in regular text matrix
    - LTD_MASON_PRODUCT="smtn-003"
    # Add AWS and LTD Keeper credentials as encrypted secrets here
    - secure: "etsQyAFrTtVOOvfB1NgAn3922vELjN4wAchvPoy6TWAmLiKRh1YEP4vy+oPVu1/PYDLJSLoXxLWCve36zOKLjFcGrjrLQcRhwE+YvhWg1tmP0GZz9vgoRvgyaVmo2F4Bl96rR0RFwHQ2kE/wDt+Rgn/FuMm62n0tjMnWJHALduF5BEGfD/A6BLDmGhd9q+9Tz+arPhEbsUA+EHgzCRxMuB6FdV5Q8uTQ0noEWDqN/XTQJDm3kqJgs4ItPitpuBW/BxaDr0fHyAq/CmNo2Wb6Ne6H70MZelMASkjEl4kvw7sj4tvQ8qycFFfGcXT4m12rO+JS4VEzvhuZ6ht0lS4Dhod50eBYifjuv1rLHYowtmAWh+GagQRQy+ANlZIxOo8NFPnb6jAYsgOVvPY6+zB1BgofnSMFS81kc/KSDs3f4saDvwlALS90b6jAoaDsMV0U+HxFOKOVJERPMG+5WDcM1siXt3lkExpXMeZq+XdT/+kuhHYgR4bUPtalfiOpzUgq0SSlEPiuXzRwxWnYcLTaIaDMUE41OHm6Q5C5cd8+t/d1eIQuZMHbr5IqGyyJAlEseuigN33oKKyv7m9jPY9sEGyCPYJxgZlBt3Nytz2SLTvfdgRWbMM1cXz3wjEeki84sI0Y53Tb3Ga3N8Z8tKdKv7s67eVYhQoll1Jj9wPExRI="
    - secure: "HL4pIYf+rKBkEuRDawmyAW7zWi3tPxKYw2I0J8WB1z+IUqpJWc5HaGIstgo8pAASV1ysmsKtvFrIu4Lbgf+QXtznQxqkHzdrcteqxYdbwovOcHIdVGMH0slBj+PCRYYs9yUw5AAxfGGfMwBq/KSzv/QWtW7u3QLZ7jDnnC9wqmrg6gf9aJITJMEMqpcul2SAGBLz3B49bDmqpOWV3Q9NrZfjc4e4m2p9lLrZC2C0nH0hCJHxz6s7RN3DR0uejcHkwUes2JwVkAnCkn22AP4HpEXxa8pE7uHEtU9OEQga3XvUnxVuOEFR/GbRTwNXhm0GOWzGmjJyabDsJT/3UzXyOdT48bymm4kBSSaVMprVVoQ2kOhU5sbCVNBPitIXC0+tSP7q7kaWtrDwvKp926gAVyiD6zZ9CMtahgRm6aSXE9MGVsMEhLfJCP8iat/uvps1/56f/eQRjEc2Tnj/pwif8+RHwuc5c8Cc56zZVT5oaezK5dF4ghHxx5WOy5VwEuPnRDqPjzkf4IBR9Jsn3fF51yp4kx/HZ8YNv4YM5rlSjoZm8tOu03OgPcCd1QeZpP4vUuZZkaTqI9rsUz0pyQ/+Osx0orR4DByO7k/uquv+1WYe3D5pyu1gGCFufmbidLEsEPoETl9hXDEp+FtM1j8TdBDFKaQLQB0O1lC32R882sI="
